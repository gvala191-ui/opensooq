# ü§ñ Telegram Bot –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–æ–º

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

–¢–µ–ø–µ—Ä—å –ø–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç **—á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞**! –í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞, —É–ø—Ä–∞–≤–ª—è–π –≤—Å–µ–º —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã –≤ Telegram.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install aiogram
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏ –≤—Å–µ —Å—Ä–∞–∑—É:
```bash
pip install -e .
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞

#### –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:
1. –ù–∞–π–¥–∏ –≤ Telegram: [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å `/newbot`
3. –ü—Ä–∏–¥—É–º–∞–π –∏–º—è –∏ username –¥–ª—è –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω

#### –£–∑–Ω–∞–π —Å–≤–æ–π Telegram ID:
1. –ù–∞–π–¥–∏ –≤ Telegram: [@userinfobot](https://t.me/userinfobot)
2. –û—Ç–ø—Ä–∞–≤—å `/start`
3. –°–∫–æ–ø–∏—Ä—É–π —Å–≤–æ–π ID

#### –ù–∞—Å—Ç—Ä–æ–π config.py:
–û—Ç–∫—Ä–æ–π `config.py` –∏ –∏–∑–º–µ–Ω–∏:

```python
BOT_TOKEN = "1234567890:ABCdefGHIjklMNOpqrsTUVwxyz"  # –¢–≤–æ–π —Ç–æ–∫–µ–Ω
ADMIN_ID = 123456789  # –¢–≤–æ–π Telegram ID
```

### 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python bot.py
```

–ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç –∂–¥–∞—Ç—å —Ç–≤–æ–∏—Ö –∫–æ–º–∞–Ω–¥!

## üí¨ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |
| `/run` | üöÄ **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –∏ –æ—Ç–ø—Ä–∞–≤–∫—É** |
| `/stop` | üõë –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É |
| `/status` | üìä –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å |
| `/settings` | ‚öôÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `/seturl` | üîó –ò–∑–º–µ–Ω–∏—Ç—å URL –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ |
| `/setpages` | üìÑ –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü |
| `/setsends` | üì§ –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–æ–∫ |
| `/setimage` | üñºÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª —Å —Ñ–æ—Ç–æ |
| `/setreviews` | ‚≠ê –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∑—ã–≤–æ–≤ |
| `/help` | üìñ –ü–æ–º–æ—â—å |

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **–ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞:**
   ```bash
   python bot.py
   ```

2. **–ù–∞–π–¥–∏ —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –Ω–∞–ø–∏—à–∏:**
   ```
   /start
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```
   /seturl
   https://opensooq.com/ar/search?term=...
   
   /setpages
   5
   
   /setsends
   2
   ```

4. **–ó–∞–ø—É—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥:**
   ```
   /run
   ```

5. **–ë–æ—Ç –±—É–¥–µ—Ç –ø—Ä–∏—Å—ã–ª–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   - ‚úÖ –ù–∞–π–¥–µ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
   - üìã –ü–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
   - üí¨ –ü–æ–ª—É—á–µ–Ω–∏–µ —á–∞—Ç-—Å—Å—ã–ª–æ–∫
   - üì§ –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏
   - üìä –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

6. **–ú–æ–∂–µ—à—å –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç:**
   ```
   /stop
   ```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í `config.py` –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```python
DEFAULT_URL = "https://opensooq.com/ar/search?term=..."
DEFAULT_PAGES = 3
DEFAULT_SENDS = 1
IMAGE_FILE = "pasta1.txt"
MIN_REVIEWS = 0
PROXY_HOST_PORT = None  # –ò–ª–∏ "123.45.67.89:8080"
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –¢–æ–ª—å–∫–æ —Ç—ã (ADMIN_ID) –º–æ–∂–µ—à—å —É–ø—Ä–∞–≤–ª—è—Ç—å –±–æ—Ç–æ–º
- ‚úÖ –î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç "‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"
- ‚úÖ –¢–æ–∫–µ–Ω –±–æ—Ç–∞ —Ö—Ä–∞–Ω–∏ –≤ —Å–µ–∫—Ä–µ—Ç–µ!

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ë–æ—Ç –ø—Ä–∏—à–ª–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ:
- üöÄ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω
- ‚úÖ –ù–∞–π–¥–µ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π
- üìã –ü–æ—Å–ª–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- üìä –°–æ–±—Ä–∞–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üí¨ –ü–æ–ª—É—á–µ–Ω–æ —á–∞—Ç-—Å—Å—ã–ª–æ–∫
- üì§ –ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∫–∞–∂–¥—ã–µ 5 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –±–æ–ª—å—à–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

**Windows (PowerShell):**
```powershell
$env:BOT_TOKEN = "—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω"
$env:ADMIN_ID = "—Ç–≤–æ–π_id"
python bot.py
```

**Linux/Mac:**
```bash
export BOT_TOKEN="—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω"
export ADMIN_ID="—Ç–≤–æ–π_id"
python bot.py
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª (–Ω—É–∂–µ–Ω python-dotenv):
```
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
ADMIN_ID=123456789
```

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Windows (—á–µ—Ä–µ–∑ Task Scheduler):
1. –°–æ–∑–¥–∞–π `.bat` —Ñ–∞–π–ª `run_bot.bat`:
   ```bat
   @echo off
   cd /d "C:\Users\Ruslan\Desktop\opensoq"
   python bot.py
   ```
2. –î–æ–±–∞–≤—å –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á Windows

### Linux (—á–µ—Ä–µ–∑ systemd):
–°–æ–∑–¥–∞–π `/etc/systemd/system/parser-bot.service`:
```ini
[Unit]
Description=Parser Telegram Bot
After=network.target

[Service]
Type=simple
User=—Ç–≤–æ–π_—é–∑–µ—Ä
WorkingDirectory=/path/to/opensoq
Environment="BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω"
Environment="ADMIN_ID=—Ç–≤–æ–π_id"
ExecStart=/usr/bin/python3 bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞—Ç–µ–º:
```bash
sudo systemctl enable parser-bot
sudo systemctl start parser-bot
```

## ‚ùì FAQ

**Q: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
- –ü—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω –≤ `config.py`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω (`python bot.py`)

**Q: "‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"**
- –ü—Ä–æ–≤–µ—Ä—å ADMIN_ID –≤ `config.py`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID

**Q: –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ?**
- –ò—Å–ø–æ–ª—å–∑—É–π `nohup python bot.py &` –∏–ª–∏ systemd (—Å–º. –≤—ã—à–µ)

**Q: –ú–æ–∂–Ω–æ –ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞?**
- ‚úÖ –î–∞! –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –ª—é–±–æ–≥–æ Telegram –∫–ª–∏–µ–Ω—Ç–∞

**Q: –ü–∞—Ä—Å–µ—Ä –∑–∞–≤–∏—Å–∞–µ—Ç**
- –ò—Å–ø–æ–ª—å–∑—É–π `/stop` –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ–∫—Å–∏

## üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞ (`python main.py`) –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.

–ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `results.txt` –∫–∞–∫ —Ä–∞–Ω—å—à–µ.
